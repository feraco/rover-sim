{
  "version": 3,
  "sources": ["../../blockly/generators/python/colour.ts", "../../blockly/generators/python/lists.ts", "../../blockly/generators/python/logic.ts", "../../blockly/generators/python/loops.ts", "../../blockly/generators/python/math.ts", "../../blockly/generators/python/procedures.ts", "../../blockly/generators/python/text.ts", "../../blockly/generators/python/variables.ts", "../../blockly/generators/python/python_generator.ts", "../../blockly/generators/python/variables_dynamic.ts", "../../blockly/generators/python.ts", "../../blockly/python.js"],
  "sourcesContent": ["/**\n * @license\n * Copyright 2012 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\n/**\n * @file Generating Python for colour blocks.\n */\n\n// Former goog.module ID: Blockly.Python.colour\n\nimport type {Block} from '../../core/block.js';\nimport type {PythonGenerator} from './python_generator.js';\nimport {Order} from './python_generator.js';\n\nexport function colour_picker(\n  block: Block,\n  generator: PythonGenerator,\n): [string, Order] {\n  // Colour picker.\n  const code = generator.quote_(block.getFieldValue('COLOUR'));\n  return [code, Order.ATOMIC];\n}\n\nexport function colour_random(\n  block: Block,\n  generator: PythonGenerator,\n): [string, Order] {\n  // Generate a random colour.\n  // TODO(#7600): find better approach than casting to any to override\n  // CodeGenerator declaring .definitions protected.\n  (generator as AnyDuringMigration).definitions_['import_random'] =\n    'import random';\n  const code = \"'#%06x' % random.randint(0, 2**24 - 1)\";\n  return [code, Order.FUNCTION_CALL];\n}\n\nexport function colour_rgb(\n  block: Block,\n  generator: PythonGenerator,\n): [string, Order] {\n  // Compose a colour from RGB components expressed as percentages.\n  const functionName = generator.provideFunction_(\n    'colour_rgb',\n    `\ndef ${generator.FUNCTION_NAME_PLACEHOLDER_}(r, g, b):\n  r = round(min(100, max(0, r)) * 2.55)\n  g = round(min(100, max(0, g)) * 2.55)\n  b = round(min(100, max(0, b)) * 2.55)\n  return '#%02x%02x%02x' % (r, g, b)\n`,\n  );\n  const r = generator.valueToCode(block, 'RED', Order.NONE) || 0;\n  const g = generator.valueToCode(block, 'GREEN', Order.NONE) || 0;\n  const b = generator.valueToCode(block, 'BLUE', Order.NONE) || 0;\n  const code = functionName + '(' + r + ', ' + g + ', ' + b + ')';\n  return [code, Order.FUNCTION_CALL];\n}\n\nexport function colour_blend(\n  block: Block,\n  generator: PythonGenerator,\n): [string, Order] {\n  // Blend two colours together.\n  const functionName = generator.provideFunction_(\n    'colour_blend',\n    `\ndef ${generator.FUNCTION_NAME_PLACEHOLDER_}(colour1, colour2, ratio):\n  r1, r2 = int(colour1[1:3], 16), int(colour2[1:3], 16)\n  g1, g2 = int(colour1[3:5], 16), int(colour2[3:5], 16)\n  b1, b2 = int(colour1[5:7], 16), int(colour2[5:7], 16)\n  ratio = min(1, max(0, ratio))\n  r = round(r1 * (1 - ratio) + r2 * ratio)\n  g = round(g1 * (1 - ratio) + g2 * ratio)\n  b = round(b1 * (1 - ratio) + b2 * ratio)\n  return '#%02x%02x%02x' % (r, g, b)\n`,\n  );\n  const colour1 =\n    generator.valueToCode(block, 'COLOUR1', Order.NONE) || \"'#000000'\";\n  const colour2 =\n    generator.valueToCode(block, 'COLOUR2', Order.NONE) || \"'#000000'\";\n  const ratio = generator.valueToCode(block, 'RATIO', Order.NONE) || 0;\n  const code =\n    functionName + '(' + colour1 + ', ' + colour2 + ', ' + ratio + ')';\n  return [code, Order.FUNCTION_CALL];\n}\n", "/**\n * @license\n * Copyright 2012 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\n/**\n * @file Generating Python for list blocks.\n */\n\n// Former goog.module ID: Blockly.Python.lists\n\nimport * as stringUtils from '../../core/utils/string.js';\nimport type {Block} from '../../core/block.js';\nimport type {CreateWithBlock} from '../../blocks/lists.js';\nimport {NameType} from '../../core/names.js';\nimport {Order} from './python_generator.js';\nimport type {PythonGenerator} from './python_generator.js';\n\nexport function lists_create_empty(\n  block: Block,\n  generator: PythonGenerator,\n): [string, Order] {\n  // Create an empty list.\n  return ['[]', Order.ATOMIC];\n}\n\nexport function lists_create_with(\n  block: Block,\n  generator: PythonGenerator,\n): [string, Order] {\n  // Create a list with any number of elements of any type.\n  const createWithBlock = block as CreateWithBlock;\n  const elements = new Array(createWithBlock.itemCount_);\n  for (let i = 0; i < createWithBlock.itemCount_; i++) {\n    elements[i] = generator.valueToCode(block, 'ADD' + i, Order.NONE) || 'None';\n  }\n  const code = '[' + elements.join(', ') + ']';\n  return [code, Order.ATOMIC];\n}\n\nexport function lists_repeat(\n  block: Block,\n  generator: PythonGenerator,\n): [string, Order] {\n  // Create a list with one element repeated.\n  const item = generator.valueToCode(block, 'ITEM', Order.NONE) || 'None';\n  const times =\n    generator.valueToCode(block, 'NUM', Order.MULTIPLICATIVE) || '0';\n  const code = '[' + item + '] * ' + times;\n  return [code, Order.MULTIPLICATIVE];\n}\n\nexport function lists_length(\n  block: Block,\n  generator: PythonGenerator,\n): [string, Order] {\n  // String or array length.\n  const list = generator.valueToCode(block, 'VALUE', Order.NONE) || '[]';\n  return ['len(' + list + ')', Order.FUNCTION_CALL];\n}\n\nexport function lists_isEmpty(\n  block: Block,\n  generator: PythonGenerator,\n): [string, Order] {\n  // Is the string null or array empty?\n  const list = generator.valueToCode(block, 'VALUE', Order.NONE) || '[]';\n  const code = 'not len(' + list + ')';\n  return [code, Order.LOGICAL_NOT];\n}\n\nexport function lists_indexOf(\n  block: Block,\n  generator: PythonGenerator,\n): [string, Order] {\n  // Find an item in the list.\n  const item = generator.valueToCode(block, 'FIND', Order.NONE) || '[]';\n  const list = generator.valueToCode(block, 'VALUE', Order.NONE) || \"''\";\n  let errorIndex = ' -1';\n  let firstIndexAdjustment = '';\n  let lastIndexAdjustment = ' - 1';\n\n  if (block.workspace.options.oneBasedIndex) {\n    errorIndex = ' 0';\n    firstIndexAdjustment = ' + 1';\n    lastIndexAdjustment = '';\n  }\n\n  let functionName;\n  if (block.getFieldValue('END') === 'FIRST') {\n    functionName = generator.provideFunction_(\n      'first_index',\n      `\ndef ${generator.FUNCTION_NAME_PLACEHOLDER_}(my_list, elem):\n  try: index = my_list.index(elem)${firstIndexAdjustment}\n  except: index =${errorIndex}\n  return index\n`,\n    );\n  } else {\n    functionName = generator.provideFunction_(\n      'last_index',\n      `\ndef ${generator.FUNCTION_NAME_PLACEHOLDER_}(my_list, elem):\n  try: index = len(my_list) - my_list[::-1].index(elem)${lastIndexAdjustment}\n  except: index =${errorIndex}\n  return index\n`,\n    );\n  }\n  const code = functionName + '(' + list + ', ' + item + ')';\n  return [code, Order.FUNCTION_CALL];\n}\n\nexport function lists_getIndex(\n  block: Block,\n  generator: PythonGenerator,\n): [string, Order] | string {\n  // Get element at index.\n  // Note: Until January 2013 this block did not have MODE or WHERE inputs.\n  const mode = block.getFieldValue('MODE') || 'GET';\n  const where = block.getFieldValue('WHERE') || 'FROM_START';\n  const listOrder = where === 'RANDOM' ? Order.NONE : Order.MEMBER;\n  const list = generator.valueToCode(block, 'VALUE', listOrder) || '[]';\n\n  switch (where) {\n    case 'FIRST':\n      if (mode === 'GET') {\n        const code = list + '[0]';\n        return [code, Order.MEMBER];\n      } else if (mode === 'GET_REMOVE') {\n        const code = list + '.pop(0)';\n        return [code, Order.FUNCTION_CALL];\n      } else if (mode === 'REMOVE') {\n        return list + '.pop(0)\\n';\n      }\n      break;\n    case 'LAST':\n      if (mode === 'GET') {\n        const code = list + '[-1]';\n        return [code, Order.MEMBER];\n      } else if (mode === 'GET_REMOVE') {\n        const code = list + '.pop()';\n        return [code, Order.FUNCTION_CALL];\n      } else if (mode === 'REMOVE') {\n        return list + '.pop()\\n';\n      }\n      break;\n    case 'FROM_START': {\n      const at = generator.getAdjustedInt(block, 'AT');\n      if (mode === 'GET') {\n        const code = list + '[' + at + ']';\n        return [code, Order.MEMBER];\n      } else if (mode === 'GET_REMOVE') {\n        const code = list + '.pop(' + at + ')';\n        return [code, Order.FUNCTION_CALL];\n      } else if (mode === 'REMOVE') {\n        return list + '.pop(' + at + ')\\n';\n      }\n      break;\n    }\n    case 'FROM_END': {\n      const at = generator.getAdjustedInt(block, 'AT', 1, true);\n      if (mode === 'GET') {\n        const code = list + '[' + at + ']';\n        return [code, Order.MEMBER];\n      } else if (mode === 'GET_REMOVE') {\n        const code = list + '.pop(' + at + ')';\n        return [code, Order.FUNCTION_CALL];\n      } else if (mode === 'REMOVE') {\n        return list + '.pop(' + at + ')\\n';\n      }\n      break;\n    }\n    case 'RANDOM':\n      (generator as AnyDuringMigration).definitions_['import_random'] =\n        'import random';\n      if (mode === 'GET') {\n        const code = 'random.choice(' + list + ')';\n        return [code, Order.FUNCTION_CALL];\n      } else {\n        const functionName = generator.provideFunction_(\n          'lists_remove_random_item',\n          `\ndef ${generator.FUNCTION_NAME_PLACEHOLDER_}(myList):\n  x = int(random.random() * len(myList))\n  return myList.pop(x)\n`,\n        );\n        const code = functionName + '(' + list + ')';\n        if (mode === 'GET_REMOVE') {\n          return [code, Order.FUNCTION_CALL];\n        } else if (mode === 'REMOVE') {\n          return code + '\\n';\n        }\n      }\n      break;\n  }\n  throw Error('Unhandled combination (lists_getIndex).');\n}\n\nexport function lists_setIndex(block: Block, generator: PythonGenerator) {\n  // Set element at index.\n  // Note: Until February 2013 this block did not have MODE or WHERE inputs.\n  let list = generator.valueToCode(block, 'LIST', Order.MEMBER) || '[]';\n  const mode = block.getFieldValue('MODE') || 'GET';\n  const where = block.getFieldValue('WHERE') || 'FROM_START';\n  const value = generator.valueToCode(block, 'TO', Order.NONE) || 'None';\n  // Cache non-trivial values to variables to prevent repeated look-ups.\n  // Closure, which accesses and modifies 'list'.\n  function cacheList() {\n    if (list.match(/^\\w+$/)) {\n      return '';\n    }\n    const listVar = generator.nameDB_!.getDistinctName(\n      'tmp_list',\n      NameType.VARIABLE,\n    );\n    const code = listVar + ' = ' + list + '\\n';\n    list = listVar;\n    return code;\n  }\n\n  switch (where) {\n    case 'FIRST':\n      if (mode === 'SET') {\n        return list + '[0] = ' + value + '\\n';\n      } else if (mode === 'INSERT') {\n        return list + '.insert(0, ' + value + ')\\n';\n      }\n      break;\n    case 'LAST':\n      if (mode === 'SET') {\n        return list + '[-1] = ' + value + '\\n';\n      } else if (mode === 'INSERT') {\n        return list + '.append(' + value + ')\\n';\n      }\n      break;\n    case 'FROM_START': {\n      const at = generator.getAdjustedInt(block, 'AT');\n      if (mode === 'SET') {\n        return list + '[' + at + '] = ' + value + '\\n';\n      } else if (mode === 'INSERT') {\n        return list + '.insert(' + at + ', ' + value + ')\\n';\n      }\n      break;\n    }\n    case 'FROM_END': {\n      const at = generator.getAdjustedInt(block, 'AT', 1, true);\n      if (mode === 'SET') {\n        return list + '[' + at + '] = ' + value + '\\n';\n      } else if (mode === 'INSERT') {\n        return list + '.insert(' + at + ', ' + value + ')\\n';\n      }\n      break;\n    }\n    case 'RANDOM': {\n      (generator as AnyDuringMigration).definitions_['import_random'] =\n        'import random';\n      let code = cacheList();\n      const xVar = generator.nameDB_!.getDistinctName(\n        'tmp_x',\n        NameType.VARIABLE,\n      );\n      code += xVar + ' = int(random.random() * len(' + list + '))\\n';\n      if (mode === 'SET') {\n        code += list + '[' + xVar + '] = ' + value + '\\n';\n        return code;\n      } else if (mode === 'INSERT') {\n        code += list + '.insert(' + xVar + ', ' + value + ')\\n';\n        return code;\n      }\n      break;\n    }\n  }\n  throw Error('Unhandled combination (lists_setIndex).');\n}\n\nexport function lists_getSublist(\n  block: Block,\n  generator: PythonGenerator,\n): [string, Order] {\n  // Get sublist.\n  const list = generator.valueToCode(block, 'LIST', Order.MEMBER) || '[]';\n  const where1 = block.getFieldValue('WHERE1');\n  const where2 = block.getFieldValue('WHERE2');\n  let at1;\n  switch (where1) {\n    case 'FROM_START':\n      at1 = generator.getAdjustedInt(block, 'AT1');\n      if (at1 === 0) {\n        at1 = '';\n      }\n      break;\n    case 'FROM_END':\n      at1 = generator.getAdjustedInt(block, 'AT1', 1, true);\n      break;\n    case 'FIRST':\n      at1 = '';\n      break;\n    default:\n      throw Error('Unhandled option (lists_getSublist)');\n  }\n\n  let at2;\n  switch (where2) {\n    case 'FROM_START':\n      at2 = generator.getAdjustedInt(block, 'AT2', 1);\n      break;\n    case 'FROM_END':\n      at2 = generator.getAdjustedInt(block, 'AT2', 0, true);\n      // Ensure that if the result calculated is 0 that sub-sequence will\n      // include all elements as expected.\n      if (!stringUtils.isNumber(String(at2))) {\n        (generator as AnyDuringMigration).definitions_['import_sys'] =\n          'import sys';\n        at2 += ' or sys.maxsize';\n      } else if (at2 === 0) {\n        at2 = '';\n      }\n      break;\n    case 'LAST':\n      at2 = '';\n      break;\n    default:\n      throw Error('Unhandled option (lists_getSublist)');\n  }\n  const code = list + '[' + at1 + ' : ' + at2 + ']';\n  return [code, Order.MEMBER];\n}\n\nexport function lists_sort(\n  block: Block,\n  generator: PythonGenerator,\n): [string, Order] {\n  // Block for sorting a list.\n  const list = generator.valueToCode(block, 'LIST', Order.NONE) || '[]';\n  const type = block.getFieldValue('TYPE');\n  const reverse = block.getFieldValue('DIRECTION') === '1' ? 'False' : 'True';\n  const sortFunctionName = generator.provideFunction_(\n    'lists_sort',\n    `\ndef ${generator.FUNCTION_NAME_PLACEHOLDER_}(my_list, type, reverse):\n  def try_float(s):\n    try:\n      return float(s)\n    except:\n      return 0\n  key_funcs = {\n    \"NUMERIC\": try_float,\n    \"TEXT\": str,\n    \"IGNORE_CASE\": lambda s: str(s).lower()\n  }\n  key_func = key_funcs[type]\n  list_cpy = list(my_list)\n  return sorted(list_cpy, key=key_func, reverse=reverse)\n`,\n  );\n\n  const code =\n    sortFunctionName + '(' + list + ', \"' + type + '\", ' + reverse + ')';\n  return [code, Order.FUNCTION_CALL];\n}\n\nexport function lists_split(\n  block: Block,\n  generator: PythonGenerator,\n): [string, Order] {\n  // Block for splitting text into a list, or joining a list into text.\n  const mode = block.getFieldValue('MODE');\n  let code;\n  if (mode === 'SPLIT') {\n    const value_input =\n      generator.valueToCode(block, 'INPUT', Order.MEMBER) || \"''\";\n    const value_delim = generator.valueToCode(block, 'DELIM', Order.NONE);\n    code = value_input + '.split(' + value_delim + ')';\n  } else if (mode === 'JOIN') {\n    const value_input =\n      generator.valueToCode(block, 'INPUT', Order.NONE) || '[]';\n    const value_delim =\n      generator.valueToCode(block, 'DELIM', Order.MEMBER) || \"''\";\n    code = value_delim + '.join(' + value_input + ')';\n  } else {\n    throw Error('Unknown mode: ' + mode);\n  }\n  return [code, Order.FUNCTION_CALL];\n}\n\nexport function lists_reverse(\n  block: Block,\n  generator: PythonGenerator,\n): [string, Order] {\n  // Block for reversing a list.\n  const list = generator.valueToCode(block, 'LIST', Order.NONE) || '[]';\n  const code = 'list(reversed(' + list + '))';\n  return [code, Order.FUNCTION_CALL];\n}\n", "/**\n * @license\n * Copyright 2012 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\n/**\n * @file Generating Python for logic blocks.\n */\n\n// Former goog.module ID: Blockly.Python.logic\n\nimport type {Block} from '../../core/block.js';\nimport type {PythonGenerator} from './python_generator.js';\nimport {Order} from './python_generator.js';\n\nexport function controls_if(block: Block, generator: PythonGenerator) {\n  // If/elseif/else condition.\n  let n = 0;\n  let code = '',\n    branchCode,\n    conditionCode;\n  if (generator.STATEMENT_PREFIX) {\n    // Automatic prefix insertion is switched off for this block.  Add manually.\n    code += generator.injectId(generator.STATEMENT_PREFIX, block);\n  }\n  do {\n    conditionCode =\n      generator.valueToCode(block, 'IF' + n, Order.NONE) || 'False';\n    branchCode = generator.statementToCode(block, 'DO' + n) || generator.PASS;\n    if (generator.STATEMENT_SUFFIX) {\n      branchCode =\n        generator.prefixLines(\n          generator.injectId(generator.STATEMENT_SUFFIX, block),\n          generator.INDENT,\n        ) + branchCode;\n    }\n    code += (n === 0 ? 'if ' : 'elif ') + conditionCode + ':\\n' + branchCode;\n    n++;\n  } while (block.getInput('IF' + n));\n\n  if (block.getInput('ELSE') || generator.STATEMENT_SUFFIX) {\n    branchCode = generator.statementToCode(block, 'ELSE') || generator.PASS;\n    if (generator.STATEMENT_SUFFIX) {\n      branchCode =\n        generator.prefixLines(\n          generator.injectId(generator.STATEMENT_SUFFIX, block),\n          generator.INDENT,\n        ) + branchCode;\n    }\n    code += 'else:\\n' + branchCode;\n  }\n  return code;\n}\n\nexport const controls_ifelse = controls_if;\n\nexport function logic_compare(\n  block: Block,\n  generator: PythonGenerator,\n): [string, Order] {\n  // Comparison operator.\n  const OPERATORS = {\n    'EQ': '==',\n    'NEQ': '!=',\n    'LT': '<',\n    'LTE': '<=',\n    'GT': '>',\n    'GTE': '>=',\n  };\n  type OperatorOption = keyof typeof OPERATORS;\n  const operator = OPERATORS[block.getFieldValue('OP') as OperatorOption];\n  const order = Order.RELATIONAL;\n  const argument0 = generator.valueToCode(block, 'A', order) || '0';\n  const argument1 = generator.valueToCode(block, 'B', order) || '0';\n  const code = argument0 + ' ' + operator + ' ' + argument1;\n  return [code, order];\n}\n\nexport function logic_operation(\n  block: Block,\n  generator: PythonGenerator,\n): [string, Order] {\n  // Operations 'and', 'or'.\n  const operator = block.getFieldValue('OP') === 'AND' ? 'and' : 'or';\n  const order = operator === 'and' ? Order.LOGICAL_AND : Order.LOGICAL_OR;\n  let argument0 = generator.valueToCode(block, 'A', order);\n  let argument1 = generator.valueToCode(block, 'B', order);\n  if (!argument0 && !argument1) {\n    // If there are no arguments, then the return value is false.\n    argument0 = 'False';\n    argument1 = 'False';\n  } else {\n    // Single missing arguments have no effect on the return value.\n    const defaultArgument = operator === 'and' ? 'True' : 'False';\n    if (!argument0) {\n      argument0 = defaultArgument;\n    }\n    if (!argument1) {\n      argument1 = defaultArgument;\n    }\n  }\n  const code = argument0 + ' ' + operator + ' ' + argument1;\n  return [code, order];\n}\n\nexport function logic_negate(\n  block: Block,\n  generator: PythonGenerator,\n): [string, Order] {\n  // Negation.\n  const argument0 =\n    generator.valueToCode(block, 'BOOL', Order.LOGICAL_NOT) || 'True';\n  const code = 'not ' + argument0;\n  return [code, Order.LOGICAL_NOT];\n}\n\nexport function logic_boolean(\n  block: Block,\n  generator: PythonGenerator,\n): [string, Order] {\n  // Boolean values true and false.\n  const code = block.getFieldValue('BOOL') === 'TRUE' ? 'True' : 'False';\n  return [code, Order.ATOMIC];\n}\n\nexport function logic_null(\n  block: Block,\n  generator: PythonGenerator,\n): [string, Order] {\n  // Null data type.\n  return ['None', Order.ATOMIC];\n}\n\nexport function logic_ternary(\n  block: Block,\n  generator: PythonGenerator,\n): [string, Order] {\n  // Ternary operator.\n  const value_if =\n    generator.valueToCode(block, 'IF', Order.CONDITIONAL) || 'False';\n  const value_then =\n    generator.valueToCode(block, 'THEN', Order.CONDITIONAL) || 'None';\n  const value_else =\n    generator.valueToCode(block, 'ELSE', Order.CONDITIONAL) || 'None';\n  const code = value_then + ' if ' + value_if + ' else ' + value_else;\n  return [code, Order.CONDITIONAL];\n}\n", "/**\n * @license\n * Copyright 2012 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\n/**\n * @file Generating Python for loop blocks.\n */\n\n// Former goog.module ID: Blockly.Python.loops\n\nimport * as stringUtils from '../../core/utils/string.js';\nimport type {Block} from '../../core/block.js';\nimport type {ControlFlowInLoopBlock} from '../../blocks/loops.js';\nimport type {PythonGenerator} from './python_generator.js';\nimport {NameType} from '../../core/names.js';\nimport {Order} from './python_generator.js';\n\nexport function controls_repeat_ext(block: Block, generator: PythonGenerator) {\n  // Repeat n times.\n  let repeats;\n  if (block.getField('TIMES')) {\n    // Internal number.\n    repeats = String(parseInt(block.getFieldValue('TIMES'), 10));\n  } else {\n    // External number.\n    repeats = generator.valueToCode(block, 'TIMES', Order.NONE) || '0';\n  }\n  if (stringUtils.isNumber(repeats)) {\n    repeats = parseInt(repeats, 10);\n  } else {\n    repeats = 'int(' + repeats + ')';\n  }\n  let branch = generator.statementToCode(block, 'DO');\n  branch = generator.addLoopTrap(branch, block) || generator.PASS;\n  const loopVar = generator.nameDB_!.getDistinctName(\n    'count',\n    NameType.VARIABLE,\n  );\n  const code = 'for ' + loopVar + ' in range(' + repeats + '):\\n' + branch;\n  return code;\n}\n\nexport const controls_repeat = controls_repeat_ext;\n\nexport function controls_whileUntil(block: Block, generator: PythonGenerator) {\n  // Do while/until loop.\n  const until = block.getFieldValue('MODE') === 'UNTIL';\n  let argument0 =\n    generator.valueToCode(\n      block,\n      'BOOL',\n      until ? Order.LOGICAL_NOT : Order.NONE,\n    ) || 'False';\n  let branch = generator.statementToCode(block, 'DO');\n  branch = generator.addLoopTrap(branch, block) || generator.PASS;\n  if (until) {\n    argument0 = 'not ' + argument0;\n  }\n  return 'while ' + argument0 + ':\\n' + branch;\n}\n\nexport function controls_for(block: Block, generator: PythonGenerator) {\n  // For loop.\n  const variable0 = generator.getVariableName(block.getFieldValue('VAR'));\n  let argument0: string | number =\n    generator.valueToCode(block, 'FROM', Order.NONE) || '0';\n  let argument1: string | number =\n    generator.valueToCode(block, 'TO', Order.NONE) || '0';\n  let increment: string | number =\n    generator.valueToCode(block, 'BY', Order.NONE) || '1';\n  let branch = generator.statementToCode(block, 'DO');\n  branch = generator.addLoopTrap(branch, block) || generator.PASS;\n\n  let code = '';\n  let range;\n\n  // Helper functions.\n  const defineUpRange = function () {\n    return generator.provideFunction_(\n      'upRange',\n      `\ndef ${generator.FUNCTION_NAME_PLACEHOLDER_}(start, stop, step):\n  while start <= stop:\n    yield start\n    start += abs(step)\n`,\n    );\n  };\n  const defineDownRange = function () {\n    return generator.provideFunction_(\n      'downRange',\n      `\ndef ${generator.FUNCTION_NAME_PLACEHOLDER_}(start, stop, step):\n  while start >= stop:\n    yield start\n    start -= abs(step)\n`,\n    );\n  };\n  // Arguments are legal generator code (numbers or strings returned by scrub()).\n  const generateUpDownRange = function (\n    start: string,\n    end: string,\n    inc: string,\n  ) {\n    return (\n      '(' +\n      start +\n      ' <= ' +\n      end +\n      ') and ' +\n      defineUpRange() +\n      '(' +\n      start +\n      ', ' +\n      end +\n      ', ' +\n      inc +\n      ') or ' +\n      defineDownRange() +\n      '(' +\n      start +\n      ', ' +\n      end +\n      ', ' +\n      inc +\n      ')'\n    );\n  };\n\n  if (\n    stringUtils.isNumber(argument0) &&\n    stringUtils.isNumber(argument1) &&\n    stringUtils.isNumber(increment)\n  ) {\n    // All parameters are simple numbers.\n    argument0 = Number(argument0);\n    argument1 = Number(argument1);\n    increment = Math.abs(Number(increment));\n    if (argument0 % 1 === 0 && argument1 % 1 === 0 && increment % 1 === 0) {\n      // All parameters are integers.\n      if (argument0 <= argument1) {\n        // Count up.\n        argument1++;\n        if (argument0 === 0 && increment === 1) {\n          // If starting index is 0, omit it.\n          range = argument1;\n        } else {\n          range = argument0 + ', ' + argument1;\n        }\n        // If increment isn't 1, it must be explicit.\n        if (increment !== 1) {\n          range += ', ' + increment;\n        }\n      } else {\n        // Count down.\n        argument1--;\n        range = argument0 + ', ' + argument1 + ', -' + increment;\n      }\n      range = 'range(' + range + ')';\n    } else {\n      // At least one of the parameters is not an integer.\n      if (argument0 < argument1) {\n        range = defineUpRange();\n      } else {\n        range = defineDownRange();\n      }\n      range += '(' + argument0 + ', ' + argument1 + ', ' + increment + ')';\n    }\n  } else {\n    // Cache non-trivial values to variables to prevent repeated look-ups.\n    const scrub = function (arg: string, suffix: string) {\n      if (stringUtils.isNumber(arg)) {\n        // Simple number.\n        arg = String(Number(arg));\n      } else if (!arg.match(/^\\w+$/)) {\n        // Not a variable, it's complicated.\n        const varName = generator.nameDB_!.getDistinctName(\n          variable0 + suffix,\n          NameType.VARIABLE,\n        );\n        code += varName + ' = ' + arg + '\\n';\n        arg = varName;\n      }\n      return arg;\n    };\n    const startVar = scrub(argument0, '_start');\n    const endVar = scrub(argument1, '_end');\n    const incVar = scrub(increment, '_inc');\n\n    if (typeof startVar === 'number' && typeof endVar === 'number') {\n      if (startVar < endVar) {\n        range = defineUpRange();\n      } else {\n        range = defineDownRange();\n      }\n      range += '(' + startVar + ', ' + endVar + ', ' + incVar + ')';\n    } else {\n      // We cannot determine direction statically.\n      range = generateUpDownRange(startVar, endVar, incVar);\n    }\n  }\n  code += 'for ' + variable0 + ' in ' + range + ':\\n' + branch;\n  return code;\n}\n\nexport function controls_forEach(block: Block, generator: PythonGenerator) {\n  // For each loop.\n  const variable0 = generator.getVariableName(block.getFieldValue('VAR'));\n  const argument0 =\n    generator.valueToCode(block, 'LIST', Order.RELATIONAL) || '[]';\n  let branch = generator.statementToCode(block, 'DO');\n  branch = generator.addLoopTrap(branch, block) || generator.PASS;\n  const code = 'for ' + variable0 + ' in ' + argument0 + ':\\n' + branch;\n  return code;\n}\n\nexport function controls_flow_statements(\n  block: Block,\n  generator: PythonGenerator,\n) {\n  // Flow statements: continue, break.\n  let xfix = '';\n  if (generator.STATEMENT_PREFIX) {\n    // Automatic prefix insertion is switched off for this block.  Add manually.\n    xfix += generator.injectId(generator.STATEMENT_PREFIX, block);\n  }\n  if (generator.STATEMENT_SUFFIX) {\n    // Inject any statement suffix here since the regular one at the end\n    // will not get executed if the break/continue is triggered.\n    xfix += generator.injectId(generator.STATEMENT_SUFFIX, block);\n  }\n  if (generator.STATEMENT_PREFIX) {\n    const loop = (block as ControlFlowInLoopBlock).getSurroundLoop();\n    if (loop && !loop.suppressPrefixSuffix) {\n      // Inject loop's statement prefix here since the regular one at the end\n      // of the loop will not get executed if 'continue' is triggered.\n      // In the case of 'break', a prefix is needed due to the loop's suffix.\n      xfix += generator.injectId(generator.STATEMENT_PREFIX, loop);\n    }\n  }\n  switch (block.getFieldValue('FLOW')) {\n    case 'BREAK':\n      return xfix + 'break\\n';\n    case 'CONTINUE':\n      return xfix + 'continue\\n';\n  }\n  throw Error('Unknown flow statement.');\n}\n", "/**\n * @license\n * Copyright 2012 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\n/**\n * @file Generating Python for math blocks.\n */\n\n// Former goog.module ID: Blockly.Python.math\n\nimport type {Block} from '../../core/block.js';\nimport type {PythonGenerator} from './python_generator.js';\nimport {Order} from './python_generator.js';\n\n// If any new block imports any library, add that library name here.\n// RESERVED WORDS: 'math,random,Number'\n\nexport function math_number(\n  block: Block,\n  generator: PythonGenerator,\n): [string, Order] {\n  // Numeric value.\n  let number = Number(block.getFieldValue('NUM'));\n  if (number === Infinity) {\n    return ['float(\"inf\")', Order.FUNCTION_CALL];\n  } else if (number === -Infinity) {\n    return ['-float(\"inf\")', Order.UNARY_SIGN];\n  } else {\n    return [String(number), number < 0 ? Order.UNARY_SIGN : Order.ATOMIC];\n  }\n}\n\nexport function math_arithmetic(\n  block: Block,\n  generator: PythonGenerator,\n): [string, Order] {\n  // Basic arithmetic operators, and power.\n  const OPERATORS: Record<string, [string | null, Order]> = {\n    'ADD': [' + ', Order.ADDITIVE],\n    'MINUS': [' - ', Order.ADDITIVE],\n    'MULTIPLY': [' * ', Order.MULTIPLICATIVE],\n    'DIVIDE': [' / ', Order.MULTIPLICATIVE],\n    'POWER': [' ** ', Order.EXPONENTIATION],\n  };\n  type OperatorOption = keyof typeof OPERATORS;\n  const tuple = OPERATORS[block.getFieldValue('OP') as OperatorOption];\n  const operator = tuple[0];\n  const order = tuple[1];\n  const argument0 = generator.valueToCode(block, 'A', order) || '0';\n  const argument1 = generator.valueToCode(block, 'B', order) || '0';\n  const code = argument0 + operator + argument1;\n  return [code, order];\n  // In case of 'DIVIDE', division between integers returns different results\n  // in generator 2 and 3. However, is not an issue since Blockly does not\n  // guarantee identical results in all languages.  To do otherwise would\n  // require every operator to be wrapped in a function call.  This would kill\n  // legibility of the generated code.\n}\n\nexport function math_single(\n  block: Block,\n  generator: PythonGenerator,\n): [string, Order] {\n  // Math operators with single operand.\n  const operator = block.getFieldValue('OP');\n  let code;\n  let arg;\n  if (operator === 'NEG') {\n    // Negation is a special case given its different operator precedence.\n    code = generator.valueToCode(block, 'NUM', Order.UNARY_SIGN) || '0';\n    return ['-' + code, Order.UNARY_SIGN];\n  }\n  // TODO(#7600): find better approach than casting to any to override\n  // CodeGenerator declaring .definitions protected (here and below).\n  (generator as AnyDuringMigration).definitions_['import_math'] = 'import math';\n  if (operator === 'SIN' || operator === 'COS' || operator === 'TAN') {\n    arg = generator.valueToCode(block, 'NUM', Order.MULTIPLICATIVE) || '0';\n  } else {\n    arg = generator.valueToCode(block, 'NUM', Order.NONE) || '0';\n  }\n  // First, handle cases which generate values that don't need parentheses\n  // wrapping the code.\n  switch (operator) {\n    case 'ABS':\n      code = 'math.fabs(' + arg + ')';\n      break;\n    case 'ROOT':\n      code = 'math.sqrt(' + arg + ')';\n      break;\n    case 'LN':\n      code = 'math.log(' + arg + ')';\n      break;\n    case 'LOG10':\n      code = 'math.log10(' + arg + ')';\n      break;\n    case 'EXP':\n      code = 'math.exp(' + arg + ')';\n      break;\n    case 'POW10':\n      code = 'math.pow(10,' + arg + ')';\n      break;\n    case 'ROUND':\n      code = 'round(' + arg + ')';\n      break;\n    case 'ROUNDUP':\n      code = 'math.ceil(' + arg + ')';\n      break;\n    case 'ROUNDDOWN':\n      code = 'math.floor(' + arg + ')';\n      break;\n    case 'SIN':\n      code = 'math.sin(' + arg + ' / 180.0 * math.pi)';\n      break;\n    case 'COS':\n      code = 'math.cos(' + arg + ' / 180.0 * math.pi)';\n      break;\n    case 'TAN':\n      code = 'math.tan(' + arg + ' / 180.0 * math.pi)';\n      break;\n  }\n  if (code) {\n    return [code, Order.FUNCTION_CALL];\n  }\n  // Second, handle cases which generate values that may need parentheses\n  // wrapping the code.\n  switch (operator) {\n    case 'ASIN':\n      code = 'math.asin(' + arg + ') / math.pi * 180';\n      break;\n    case 'ACOS':\n      code = 'math.acos(' + arg + ') / math.pi * 180';\n      break;\n    case 'ATAN':\n      code = 'math.atan(' + arg + ') / math.pi * 180';\n      break;\n    default:\n      throw Error('Unknown math operator: ' + operator);\n  }\n  return [code, Order.MULTIPLICATIVE];\n}\n\nexport function math_constant(\n  block: Block,\n  generator: PythonGenerator,\n): [string, Order] {\n  // Constants: PI, E, the Golden Ratio, sqrt(2), 1/sqrt(2), INFINITY.\n  const CONSTANTS: Record<string, [string, Order]> = {\n    'PI': ['math.pi', Order.MEMBER],\n    'E': ['math.e', Order.MEMBER],\n    'GOLDEN_RATIO': ['(1 + math.sqrt(5)) / 2', Order.MULTIPLICATIVE],\n    'SQRT2': ['math.sqrt(2)', Order.MEMBER],\n    'SQRT1_2': ['math.sqrt(1.0 / 2)', Order.MEMBER],\n    'INFINITY': [\"float('inf')\", Order.ATOMIC],\n  };\n  type ConstantOption = keyof typeof CONSTANTS;\n  const constant = block.getFieldValue('CONSTANT') as ConstantOption;\n  if (constant !== 'INFINITY') {\n    (generator as AnyDuringMigration).definitions_['import_math'] =\n      'import math';\n  }\n  return CONSTANTS[constant];\n}\n\nexport function math_number_property(\n  block: Block,\n  generator: PythonGenerator,\n): [string, Order] {\n  // Check if a number is even, odd, prime, whole, positive, or negative\n  // or if it is divisible by certain number. Returns true or false.\n  const PROPERTIES: Record<string, [string | null, Order, Order]> = {\n    'EVEN': [' % 2 == 0', Order.MULTIPLICATIVE, Order.RELATIONAL],\n    'ODD': [' % 2 == 1', Order.MULTIPLICATIVE, Order.RELATIONAL],\n    'WHOLE': [' % 1 == 0', Order.MULTIPLICATIVE, Order.RELATIONAL],\n    'POSITIVE': [' > 0', Order.RELATIONAL, Order.RELATIONAL],\n    'NEGATIVE': [' < 0', Order.RELATIONAL, Order.RELATIONAL],\n    'DIVISIBLE_BY': [null, Order.MULTIPLICATIVE, Order.RELATIONAL],\n    'PRIME': [null, Order.NONE, Order.FUNCTION_CALL],\n  };\n  type PropertyOption = keyof typeof PROPERTIES;\n  const dropdownProperty = block.getFieldValue('PROPERTY') as PropertyOption;\n  const [suffix, inputOrder, outputOrder] = PROPERTIES[dropdownProperty];\n  const numberToCheck =\n    generator.valueToCode(block, 'NUMBER_TO_CHECK', inputOrder) || '0';\n  let code;\n  if (dropdownProperty === 'PRIME') {\n    // Prime is a special case as it is not a one-liner test.\n    (generator as AnyDuringMigration).definitions_['import_math'] =\n      'import math';\n    (generator as AnyDuringMigration).definitions_[\n      'from_numbers_import_Number'\n    ] = 'from numbers import Number';\n    const functionName = generator.provideFunction_(\n      'math_isPrime',\n      `\ndef ${generator.FUNCTION_NAME_PLACEHOLDER_}(n):\n  # https://en.wikipedia.org/wiki/Primality_test#Naive_methods\n  # If n is not a number but a string, try parsing it.\n  if not isinstance(n, Number):\n    try:\n      n = float(n)\n    except:\n      return False\n  if n == 2 or n == 3:\n    return True\n  # False if n is negative, is 1, or not whole, or if n is divisible by 2 or 3.\n  if n <= 1 or n % 1 != 0 or n % 2 == 0 or n % 3 == 0:\n    return False\n  # Check all the numbers of form 6k +/- 1, up to sqrt(n).\n  for x in range(6, int(math.sqrt(n)) + 2, 6):\n    if n % (x - 1) == 0 or n % (x + 1) == 0:\n      return False\n  return True\n`,\n    );\n    code = functionName + '(' + numberToCheck + ')';\n  } else if (dropdownProperty === 'DIVISIBLE_BY') {\n    const divisor =\n      generator.valueToCode(block, 'DIVISOR', Order.MULTIPLICATIVE) || '0';\n    // If 'divisor' is some code that evals to 0, generator will raise an error.\n    if (divisor === '0') {\n      return ['False', Order.ATOMIC];\n    }\n    code = numberToCheck + ' % ' + divisor + ' == 0';\n  } else {\n    code = numberToCheck + suffix;\n  }\n  return [code, outputOrder];\n}\n\nexport function math_change(block: Block, generator: PythonGenerator) {\n  // Add to a variable in place.\n  (generator as AnyDuringMigration).definitions_['from_numbers_import_Number'] =\n    'from numbers import Number';\n  const argument0 =\n    generator.valueToCode(block, 'DELTA', Order.ADDITIVE) || '0';\n  const varName = generator.getVariableName(block.getFieldValue('VAR'));\n  return (\n    varName +\n    ' = (' +\n    varName +\n    ' if isinstance(' +\n    varName +\n    ', Number) else 0) + ' +\n    argument0 +\n    '\\n'\n  );\n}\n\n// Rounding functions have a single operand.\nexport const math_round = math_single;\n// Trigonometry functions have a single operand.\nexport const math_trig = math_single;\n\nexport function math_on_list(\n  block: Block,\n  generator: PythonGenerator,\n): [string, Order] {\n  // Math functions for lists.\n  const func = block.getFieldValue('OP');\n  const list = generator.valueToCode(block, 'LIST', Order.NONE) || '[]';\n  let code;\n  switch (func) {\n    case 'SUM':\n      code = 'sum(' + list + ')';\n      break;\n    case 'MIN':\n      code = 'min(' + list + ')';\n      break;\n    case 'MAX':\n      code = 'max(' + list + ')';\n      break;\n    case 'AVERAGE': {\n      (generator as AnyDuringMigration).definitions_[\n        'from_numbers_import_Number'\n      ] = 'from numbers import Number';\n      // This operation excludes null and values that aren't int or float:\n      // math_mean([null, null, \"aString\", 1, 9]) -> 5.0\n      const functionName = generator.provideFunction_(\n        'math_mean',\n        `\ndef ${generator.FUNCTION_NAME_PLACEHOLDER_}(myList):\n  localList = [e for e in myList if isinstance(e, Number)]\n  if not localList: return\n  return float(sum(localList)) / len(localList)\n`,\n      );\n      code = functionName + '(' + list + ')';\n      break;\n    }\n    case 'MEDIAN': {\n      (generator as AnyDuringMigration).definitions_[\n        'from_numbers_import_Number'\n      ] = 'from numbers import Number';\n      // This operation excludes null values:\n      // math_median([null, null, 1, 3]) -> 2.0\n      const functionName = generator.provideFunction_(\n        'math_median',\n        `\ndef ${generator.FUNCTION_NAME_PLACEHOLDER_}(myList):\n  localList = sorted([e for e in myList if isinstance(e, Number)])\n  if not localList: return\n  if len(localList) % 2 == 0:\n    return (localList[len(localList) // 2 - 1] + localList[len(localList) // 2]) / 2.0\n  else:\n    return localList[(len(localList) - 1) // 2]\n`,\n      );\n      code = functionName + '(' + list + ')';\n      break;\n    }\n    case 'MODE': {\n      // As a list of numbers can contain more than one mode,\n      // the returned result is provided as an array.\n      // Mode of [3, 'x', 'x', 1, 1, 2, '3'] -> ['x', 1]\n      const functionName = generator.provideFunction_(\n        'math_modes',\n        `\ndef ${generator.FUNCTION_NAME_PLACEHOLDER_}(some_list):\n  modes = []\n  # Using a lists of [item, count] to keep count rather than dict\n  # to avoid \"unhashable\" errors when the counted item is itself a list or dict.\n  counts = []\n  maxCount = 1\n  for item in some_list:\n    found = False\n    for count in counts:\n      if count[0] == item:\n        count[1] += 1\n        maxCount = max(maxCount, count[1])\n        found = True\n    if not found:\n      counts.append([item, 1])\n  for counted_item, item_count in counts:\n    if item_count == maxCount:\n      modes.append(counted_item)\n  return modes\n`,\n      );\n      code = functionName + '(' + list + ')';\n      break;\n    }\n    case 'STD_DEV': {\n      (generator as AnyDuringMigration).definitions_['import_math'] =\n        'import math';\n      const functionName = generator.provideFunction_(\n        'math_standard_deviation',\n        `\ndef ${generator.FUNCTION_NAME_PLACEHOLDER_}(numbers):\n  n = len(numbers)\n  if n == 0: return\n  mean = float(sum(numbers)) / n\n  variance = sum((x - mean) ** 2 for x in numbers) / n\n  return math.sqrt(variance)\n`,\n      );\n      code = functionName + '(' + list + ')';\n      break;\n    }\n    case 'RANDOM':\n      (generator as AnyDuringMigration).definitions_['import_random'] =\n        'import random';\n      code = 'random.choice(' + list + ')';\n      break;\n    default:\n      throw Error('Unknown operator: ' + func);\n  }\n  return [code, Order.FUNCTION_CALL];\n}\n\nexport function math_modulo(\n  block: Block,\n  generator: PythonGenerator,\n): [string, Order] {\n  // Remainder computation.\n  const argument0 =\n    generator.valueToCode(block, 'DIVIDEND', Order.MULTIPLICATIVE) || '0';\n  const argument1 =\n    generator.valueToCode(block, 'DIVISOR', Order.MULTIPLICATIVE) || '0';\n  const code = argument0 + ' % ' + argument1;\n  return [code, Order.MULTIPLICATIVE];\n}\n\nexport function math_constrain(\n  block: Block,\n  generator: PythonGenerator,\n): [string, Order] {\n  // Constrain a number between two limits.\n  const argument0 = generator.valueToCode(block, 'VALUE', Order.NONE) || '0';\n  const argument1 = generator.valueToCode(block, 'LOW', Order.NONE) || '0';\n  const argument2 =\n    generator.valueToCode(block, 'HIGH', Order.NONE) || \"float('inf')\";\n  const code =\n    'min(max(' + argument0 + ', ' + argument1 + '), ' + argument2 + ')';\n  return [code, Order.FUNCTION_CALL];\n}\n\nexport function math_random_int(\n  block: Block,\n  generator: PythonGenerator,\n): [string, Order] {\n  // Random integer between [X] and [Y].\n  (generator as AnyDuringMigration).definitions_['import_random'] =\n    'import random';\n  const argument0 = generator.valueToCode(block, 'FROM', Order.NONE) || '0';\n  const argument1 = generator.valueToCode(block, 'TO', Order.NONE) || '0';\n  const code = 'random.randint(' + argument0 + ', ' + argument1 + ')';\n  return [code, Order.FUNCTION_CALL];\n}\n\nexport function math_random_float(\n  block: Block,\n  generator: PythonGenerator,\n): [string, Order] {\n  // Random fraction between 0 and 1.\n  (generator as AnyDuringMigration).definitions_['import_random'] =\n    'import random';\n  return ['random.random()', Order.FUNCTION_CALL];\n}\n\nexport function math_atan2(\n  block: Block,\n  generator: PythonGenerator,\n): [string, Order] {\n  // Arctangent of point (X, Y) in degrees from -180 to 180.\n  (generator as AnyDuringMigration).definitions_['import_math'] = 'import math';\n  const argument0 = generator.valueToCode(block, 'X', Order.NONE) || '0';\n  const argument1 = generator.valueToCode(block, 'Y', Order.NONE) || '0';\n  return [\n    'math.atan2(' + argument1 + ', ' + argument0 + ') / math.pi * 180',\n    Order.MULTIPLICATIVE,\n  ];\n}\n", "/**\n * @license\n * Copyright 2012 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\n/**\n * @file Generating Python for procedure blocks.\n */\n\n// Former goog.module ID: Blockly.Python.procedures\n\nimport * as Variables from '../../core/variables.js';\nimport type {Block} from '../../core/block.js';\nimport type {IfReturnBlock} from '../../blocks/procedures.js';\nimport {NameType} from '../../core/names.js';\nimport {Order} from './python_generator.js';\nimport type {PythonGenerator} from './python_generator.js';\n\nexport function procedures_defreturn(block: Block, generator: PythonGenerator) {\n  // Define a procedure with a return value.\n  // First, add a 'global' statement for every variable that is not shadowed by\n  // a local parameter.\n  const globals = [];\n  const workspace = block.workspace;\n  const usedVariables = Variables.allUsedVarModels(workspace) || [];\n  for (const variable of usedVariables) {\n    const varName = variable.name;\n    // getVars returns parameter names, not ids, for procedure blocks\n    if (block.getVars().indexOf(varName) === -1) {\n      globals.push(generator.getVariableName(varName));\n    }\n  }\n  // Add developer variables.\n  const devVarList = Variables.allDeveloperVariables(workspace);\n  for (let i = 0; i < devVarList.length; i++) {\n    globals.push(\n      generator.nameDB_!.getName(devVarList[i], NameType.DEVELOPER_VARIABLE),\n    );\n  }\n\n  const globalString = globals.length\n    ? generator.INDENT + 'global ' + globals.join(', ') + '\\n'\n    : '';\n  const funcName = generator.getProcedureName(block.getFieldValue('NAME'));\n  let xfix1 = '';\n  if (generator.STATEMENT_PREFIX) {\n    xfix1 += generator.injectId(generator.STATEMENT_PREFIX, block);\n  }\n  if (generator.STATEMENT_SUFFIX) {\n    xfix1 += generator.injectId(generator.STATEMENT_SUFFIX, block);\n  }\n  if (xfix1) {\n    xfix1 = generator.prefixLines(xfix1, generator.INDENT);\n  }\n  let loopTrap = '';\n  if (generator.INFINITE_LOOP_TRAP) {\n    loopTrap = generator.prefixLines(\n      generator.injectId(generator.INFINITE_LOOP_TRAP, block),\n      generator.INDENT,\n    );\n  }\n  let branch = generator.statementToCode(block, 'STACK');\n  let returnValue = generator.valueToCode(block, 'RETURN', Order.NONE) || '';\n  let xfix2 = '';\n  if (branch && returnValue) {\n    // After executing the function body, revisit this block for the return.\n    xfix2 = xfix1;\n  }\n  if (returnValue) {\n    returnValue = generator.INDENT + 'return ' + returnValue + '\\n';\n  } else if (!branch) {\n    branch = generator.PASS;\n  }\n  const args = [];\n  const variables = block.getVars();\n  for (let i = 0; i < variables.length; i++) {\n    args[i] = generator.getVariableName(variables[i]);\n  }\n  let code =\n    'def ' +\n    funcName +\n    '(' +\n    args.join(', ') +\n    '):\\n' +\n    globalString +\n    xfix1 +\n    loopTrap +\n    branch +\n    xfix2 +\n    returnValue;\n  code = generator.scrub_(block, code);\n  // Add % so as not to collide with helper functions in definitions list.\n  // TODO(#7600): find better approach than casting to any to override\n  // CodeGenerator declaring .definitions protected.\n  (generator as AnyDuringMigration).definitions_['%' + funcName] = code;\n  return null;\n}\n\n// Defining a procedure without a return value uses the same generator as\n// a procedure with a return value.\nexport const procedures_defnoreturn = procedures_defreturn;\n\nexport function procedures_callreturn(\n  block: Block,\n  generator: PythonGenerator,\n): [string, Order] {\n  // Call a procedure with a return value.\n  const funcName = generator.getProcedureName(block.getFieldValue('NAME'));\n  const args = [];\n  const variables = block.getVars();\n  for (let i = 0; i < variables.length; i++) {\n    args[i] = generator.valueToCode(block, 'ARG' + i, Order.NONE) || 'None';\n  }\n  const code = funcName + '(' + args.join(', ') + ')';\n  return [code, Order.FUNCTION_CALL];\n}\n\nexport function procedures_callnoreturn(\n  block: Block,\n  generator: PythonGenerator,\n) {\n  // Call a procedure with no return value.\n  // Generated code is for a function call as a statement is the same as a\n  // function call as a value, with the addition of line ending.\n  const tuple = generator.forBlock['procedures_callreturn'](block, generator)!;\n  return tuple[0] + '\\n';\n}\n\nexport function procedures_ifreturn(block: Block, generator: PythonGenerator) {\n  // Conditionally return value from a procedure.\n  const condition =\n    generator.valueToCode(block, 'CONDITION', Order.NONE) || 'False';\n  let code = 'if ' + condition + ':\\n';\n  if (generator.STATEMENT_SUFFIX) {\n    // Inject any statement suffix here since the regular one at the end\n    // will not get executed if the return is triggered.\n    code += generator.prefixLines(\n      generator.injectId(generator.STATEMENT_SUFFIX, block),\n      generator.INDENT,\n    );\n  }\n  if ((block as IfReturnBlock).hasReturnValue_) {\n    const value = generator.valueToCode(block, 'VALUE', Order.NONE) || 'None';\n    code += generator.INDENT + 'return ' + value + '\\n';\n  } else {\n    code += generator.INDENT + 'return\\n';\n  }\n  return code;\n}\n", "/**\n * @license\n * Copyright 2012 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\n/**\n * @file Generating Python for text blocks.\n */\n\n// Former goog.module ID: Blockly.Python.texts\n\nimport * as stringUtils from '../../core/utils/string.js';\nimport type {Block} from '../../core/block.js';\nimport type {JoinMutatorBlock} from '../../blocks/text.js';\nimport {NameType} from '../../core/names.js';\nimport {Order} from './python_generator.js';\nimport type {PythonGenerator} from './python_generator.js';\n\nexport function text(\n  block: Block,\n  generator: PythonGenerator,\n): [string, Order] {\n  // Text value.\n  const code = generator.quote_(block.getFieldValue('TEXT'));\n  return [code, Order.ATOMIC];\n}\n\nexport function text_multiline(\n  block: Block,\n  generator: PythonGenerator,\n): [string, Order] {\n  // Text value.\n  const code = generator.multiline_quote_(block.getFieldValue('TEXT'));\n  const order = code.indexOf('+') !== -1 ? Order.ADDITIVE : Order.ATOMIC;\n  return [code, order];\n}\n\n/**\n * Regular expression to detect a single-quoted string literal.\n */\nconst strRegExp = /^\\s*'([^']|\\\\')*'\\s*$/;\n\n/**\n * Enclose the provided value in 'str(...)' function.\n * Leave string literals alone.\n *\n * @param value Code evaluating to a value.\n * @returns Array containing code evaluating to a string\n *     and\n *    the order of the returned code.[string, number]\n */\nconst forceString = function (value: string): [string, Order] {\n  if (strRegExp.test(value)) {\n    return [value, Order.ATOMIC];\n  }\n  return ['str(' + value + ')', Order.FUNCTION_CALL];\n};\n\nexport function text_join(\n  block: Block,\n  generator: PythonGenerator,\n): [string, Order] {\n  // Create a string made up of any number of elements of any type.\n  // Should we allow joining by '-' or ',' or any other characters?\n  const joinBlock = block as JoinMutatorBlock;\n  switch (joinBlock.itemCount_) {\n    case 0:\n      return [\"''\", Order.ATOMIC];\n    case 1: {\n      const element = generator.valueToCode(block, 'ADD0', Order.NONE) || \"''\";\n      const codeAndOrder = forceString(element);\n      return codeAndOrder;\n    }\n    case 2: {\n      const element0 = generator.valueToCode(block, 'ADD0', Order.NONE) || \"''\";\n      const element1 = generator.valueToCode(block, 'ADD1', Order.NONE) || \"''\";\n      const code = forceString(element0)[0] + ' + ' + forceString(element1)[0];\n      return [code, Order.ADDITIVE];\n    }\n    default: {\n      const elements = [];\n      for (let i = 0; i < joinBlock.itemCount_; i++) {\n        elements[i] =\n          generator.valueToCode(block, 'ADD' + i, Order.NONE) || \"''\";\n      }\n      const tempVar = generator.nameDB_!.getDistinctName(\n        'x',\n        NameType.VARIABLE,\n      );\n      const code =\n        \"''.join([str(\" +\n        tempVar +\n        ') for ' +\n        tempVar +\n        ' in [' +\n        elements.join(', ') +\n        ']])';\n      return [code, Order.FUNCTION_CALL];\n    }\n  }\n}\n\nexport function text_append(block: Block, generator: PythonGenerator) {\n  // Append to a variable in place.\n  const varName = generator.getVariableName(block.getFieldValue('VAR'));\n  const value = generator.valueToCode(block, 'TEXT', Order.NONE) || \"''\";\n  return varName + ' = str(' + varName + ') + ' + forceString(value)[0] + '\\n';\n}\n\nexport function text_length(\n  block: Block,\n  generator: PythonGenerator,\n): [string, Order] {\n  // Is the string null or array empty?\n  const text = generator.valueToCode(block, 'VALUE', Order.NONE) || \"''\";\n  return ['len(' + text + ')', Order.FUNCTION_CALL];\n}\n\nexport function text_isEmpty(\n  block: Block,\n  generator: PythonGenerator,\n): [string, Order] {\n  // Is the string null or array empty?\n  const text = generator.valueToCode(block, 'VALUE', Order.NONE) || \"''\";\n  const code = 'not len(' + text + ')';\n  return [code, Order.LOGICAL_NOT];\n}\n\nexport function text_indexOf(\n  block: Block,\n  generator: PythonGenerator,\n): [string, Order] {\n  // Search the text for a substring.\n  // Should we allow for non-case sensitive???\n  const operator = block.getFieldValue('END') === 'FIRST' ? 'find' : 'rfind';\n  const substring = generator.valueToCode(block, 'FIND', Order.NONE) || \"''\";\n  const text = generator.valueToCode(block, 'VALUE', Order.MEMBER) || \"''\";\n  const code = text + '.' + operator + '(' + substring + ')';\n  if (block.workspace.options.oneBasedIndex) {\n    return [code + ' + 1', Order.ADDITIVE];\n  }\n  return [code, Order.FUNCTION_CALL];\n}\n\nexport function text_charAt(\n  block: Block,\n  generator: PythonGenerator,\n): [string, Order] {\n  // Get letter at index.\n  // Note: Until January 2013 this block did not have the WHERE input.\n  const where = block.getFieldValue('WHERE') || 'FROM_START';\n  const textOrder = where === 'RANDOM' ? Order.NONE : Order.MEMBER;\n  const text = generator.valueToCode(block, 'VALUE', textOrder) || \"''\";\n  switch (where) {\n    case 'FIRST': {\n      const code = text + '[0]';\n      return [code, Order.MEMBER];\n    }\n    case 'LAST': {\n      const code = text + '[-1]';\n      return [code, Order.MEMBER];\n    }\n    case 'FROM_START': {\n      const at = generator.getAdjustedInt(block, 'AT');\n      const code = text + '[' + at + ']';\n      return [code, Order.MEMBER];\n    }\n    case 'FROM_END': {\n      const at = generator.getAdjustedInt(block, 'AT', 1, true);\n      const code = text + '[' + at + ']';\n      return [code, Order.MEMBER];\n    }\n    case 'RANDOM': {\n      // TODO(#7600): find better approach than casting to any to override\n      // CodeGenerator declaring .definitions protected (here and below).\n      (generator as AnyDuringMigration).definitions_['import_random'] =\n        'import random';\n      const functionName = generator.provideFunction_(\n        'text_random_letter',\n        `\ndef ${generator.FUNCTION_NAME_PLACEHOLDER_}(text):\n  x = int(random.random() * len(text))\n  return text[x]\n`,\n      );\n      const code = functionName + '(' + text + ')';\n      return [code, Order.FUNCTION_CALL];\n    }\n  }\n  throw Error('Unhandled option (text_charAt).');\n}\n\nexport function text_getSubstring(\n  block: Block,\n  generator: PythonGenerator,\n): [string, Order] {\n  // Get substring.\n  const where1 = block.getFieldValue('WHERE1');\n  const where2 = block.getFieldValue('WHERE2');\n  const text = generator.valueToCode(block, 'STRING', Order.MEMBER) || \"''\";\n  let at1;\n  switch (where1) {\n    case 'FROM_START':\n      at1 = generator.getAdjustedInt(block, 'AT1');\n      if (at1 === 0) {\n        at1 = '';\n      }\n      break;\n    case 'FROM_END':\n      at1 = generator.getAdjustedInt(block, 'AT1', 1, true);\n      break;\n    case 'FIRST':\n      at1 = '';\n      break;\n    default:\n      throw Error('Unhandled option (text_getSubstring)');\n  }\n\n  let at2;\n  switch (where2) {\n    case 'FROM_START':\n      at2 = generator.getAdjustedInt(block, 'AT2', 1);\n      break;\n    case 'FROM_END':\n      at2 = generator.getAdjustedInt(block, 'AT2', 0, true);\n      // Ensure that if the result calculated is 0 that sub-sequence will\n      // include all elements as expected.\n      if (!stringUtils.isNumber(String(at2))) {\n        (generator as AnyDuringMigration).definitions_['import_sys'] =\n          'import sys';\n        at2 += ' or sys.maxsize';\n      } else if (at2 === 0) {\n        at2 = '';\n      }\n      break;\n    case 'LAST':\n      at2 = '';\n      break;\n    default:\n      throw Error('Unhandled option (text_getSubstring)');\n  }\n  const code = text + '[' + at1 + ' : ' + at2 + ']';\n  return [code, Order.MEMBER];\n}\n\nexport function text_changeCase(\n  block: Block,\n  generator: PythonGenerator,\n): [string, Order] {\n  // Change capitalization.\n  const OPERATORS = {\n    'UPPERCASE': '.upper()',\n    'LOWERCASE': '.lower()',\n    'TITLECASE': '.title()',\n  };\n  type OperatorOption = keyof typeof OPERATORS;\n  const operator = OPERATORS[block.getFieldValue('CASE') as OperatorOption];\n  const text = generator.valueToCode(block, 'TEXT', Order.MEMBER) || \"''\";\n  const code = text + operator;\n  return [code, Order.FUNCTION_CALL];\n}\n\nexport function text_trim(\n  block: Block,\n  generator: PythonGenerator,\n): [string, Order] {\n  // Trim spaces.\n  const OPERATORS = {\n    'LEFT': '.lstrip()',\n    'RIGHT': '.rstrip()',\n    'BOTH': '.strip()',\n  };\n  type OperatorOption = keyof typeof OPERATORS;\n  const operator = OPERATORS[block.getFieldValue('MODE') as OperatorOption];\n  const text = generator.valueToCode(block, 'TEXT', Order.MEMBER) || \"''\";\n  const code = text + operator;\n  return [code, Order.FUNCTION_CALL];\n}\n\nexport function text_print(block: Block, generator: PythonGenerator) {\n  // Print statement.\n  const msg = generator.valueToCode(block, 'TEXT', Order.NONE) || \"''\";\n  return 'print(' + msg + ')\\n';\n}\n\nexport function text_prompt_ext(\n  block: Block,\n  generator: PythonGenerator,\n): [string, Order] {\n  // Prompt function.\n  const functionName = generator.provideFunction_(\n    'text_prompt',\n    `\ndef ${generator.FUNCTION_NAME_PLACEHOLDER_}(msg):\n  try:\n    return raw_input(msg)\n  except NameError:\n    return input(msg)\n`,\n  );\n  let msg;\n  if (block.getField('TEXT')) {\n    // Internal message.\n    msg = generator.quote_(block.getFieldValue('TEXT'));\n  } else {\n    // External message.\n    msg = generator.valueToCode(block, 'TEXT', Order.NONE) || \"''\";\n  }\n  let code = functionName + '(' + msg + ')';\n  const toNumber = block.getFieldValue('TYPE') === 'NUMBER';\n  if (toNumber) {\n    code = 'float(' + code + ')';\n  }\n  return [code, Order.FUNCTION_CALL];\n}\n\nexport const text_prompt = text_prompt_ext;\n\nexport function text_count(\n  block: Block,\n  generator: PythonGenerator,\n): [string, Order] {\n  const text = generator.valueToCode(block, 'TEXT', Order.MEMBER) || \"''\";\n  const sub = generator.valueToCode(block, 'SUB', Order.NONE) || \"''\";\n  const code = text + '.count(' + sub + ')';\n  return [code, Order.FUNCTION_CALL];\n}\n\nexport function text_replace(\n  block: Block,\n  generator: PythonGenerator,\n): [string, Order] {\n  const text = generator.valueToCode(block, 'TEXT', Order.MEMBER) || \"''\";\n  const from = generator.valueToCode(block, 'FROM', Order.NONE) || \"''\";\n  const to = generator.valueToCode(block, 'TO', Order.NONE) || \"''\";\n  const code = text + '.replace(' + from + ', ' + to + ')';\n  return [code, Order.MEMBER];\n}\n\nexport function text_reverse(\n  block: Block,\n  generator: PythonGenerator,\n): [string, Order] {\n  const text = generator.valueToCode(block, 'TEXT', Order.MEMBER) || \"''\";\n  const code = text + '[::-1]';\n  return [code, Order.MEMBER];\n}\n", "/**\n * @license\n * Copyright 2012 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\n/**\n * @file Generating Python for variable blocks.\n */\n\n// Former goog.module ID: Blockly.Python.variables\n\nimport type {Block} from '../../core/block.js';\nimport type {PythonGenerator} from './python_generator.js';\nimport {Order} from './python_generator.js';\n\nexport function variables_get(\n  block: Block,\n  generator: PythonGenerator,\n): [string, Order] {\n  // Variable getter.\n  const code = generator.getVariableName(block.getFieldValue('VAR'));\n  return [code, Order.ATOMIC];\n}\n\nexport function variables_set(block: Block, generator: PythonGenerator) {\n  // Variable setter.\n  const argument0 = generator.valueToCode(block, 'VALUE', Order.NONE) || '0';\n  const varName = generator.getVariableName(block.getFieldValue('VAR'));\n  return varName + ' = ' + argument0 + '\\n';\n}\n", "/**\n * @license\n * Copyright 2012 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\n/**\n * @file Python code generator class, including helper methods for\n * generating Python for blocks.\n */\n\n// Former goog.module ID: Blockly.Python\n\nimport * as stringUtils from '../../core/utils/string.js';\nimport * as Variables from '../../core/variables.js';\nimport type {Block} from '../../core/block.js';\nimport {CodeGenerator} from '../../core/generator.js';\nimport {Names} from '../../core/names.js';\nimport type {Workspace} from '../../core/workspace.js';\nimport {inputTypes} from '../../core/inputs/input_types.js';\n\n/**\n * Order of operation ENUMs.\n * http://docs.python.org/reference/expressions.html#summary\n */\n// prettier-ignore\nexport enum Order {\n  ATOMIC = 0,             // 0 \"\" ...\n  COLLECTION = 1,         // tuples, lists, dictionaries\n  STRING_CONVERSION = 1,  // `expression...`\n  MEMBER = 2.1,           // . []\n  FUNCTION_CALL = 2.2,    // ()\n  EXPONENTIATION = 3,     // **\n  UNARY_SIGN = 4,         // + -\n  BITWISE_NOT = 4,        // ~\n  MULTIPLICATIVE = 5,     // * / // %\n  ADDITIVE = 6,           // + -\n  BITWISE_SHIFT = 7,      // << >>\n  BITWISE_AND = 8,        // &\n  BITWISE_XOR = 9,        // ^\n  BITWISE_OR = 10,        // |\n  RELATIONAL = 11,        // in, not in, is, is not, >, >=, <>, !=, ==\n  LOGICAL_NOT = 12,       // not\n  LOGICAL_AND = 13,       // and\n  LOGICAL_OR = 14,        // or\n  CONDITIONAL = 15,       // if else\n  LAMBDA = 16,            // lambda\n  NONE = 99,              // (...)\n}\n\n/**\n * PythonScript code generator class.\n */\nexport class PythonGenerator extends CodeGenerator {\n  /** List of outer-inner pairings that do NOT require parentheses. */\n  ORDER_OVERRIDES: [Order, Order][] = [\n    // (foo()).bar -> foo().bar\n    // (foo())[0] -> foo()[0]\n    [Order.FUNCTION_CALL, Order.MEMBER],\n    // (foo())() -> foo()()\n    [Order.FUNCTION_CALL, Order.FUNCTION_CALL],\n    // (foo.bar).baz -> foo.bar.baz\n    // (foo.bar)[0] -> foo.bar[0]\n    // (foo[0]).bar -> foo[0].bar\n    // (foo[0])[1] -> foo[0][1]\n    [Order.MEMBER, Order.MEMBER],\n    // (foo.bar)() -> foo.bar()\n    // (foo[0])() -> foo[0]()\n    [Order.MEMBER, Order.FUNCTION_CALL],\n\n    // not (not foo) -> not not foo\n    [Order.LOGICAL_NOT, Order.LOGICAL_NOT],\n    // a and (b and c) -> a and b and c\n    [Order.LOGICAL_AND, Order.LOGICAL_AND],\n    // a or (b or c) -> a or b or c\n    [Order.LOGICAL_OR, Order.LOGICAL_OR],\n  ];\n\n  /**\n   * Empty loops or conditionals are not allowed in Python.\n   */\n  PASS: string = ''; // Initialised by init().\n\n  /** @param name Name of the language the generator is for. */\n  constructor(name = 'Python') {\n    super(name);\n    this.isInitialized = false;\n\n    // Copy Order values onto instance for backwards compatibility\n    // while ensuring they are not part of the publically-advertised\n    // API.\n    //\n    // TODO(#7085): deprecate these in due course.  (Could initially\n    // replace data properties with get accessors that call\n    // deprecate.warn().)\n    for (const key in Order) {\n      // Must assign Order[key] to a temporary to get the type guard to work;\n      // see https://github.com/microsoft/TypeScript/issues/10530.\n      const value = Order[key];\n      // Skip reverse-lookup entries in the enum.  Due to\n      // https://github.com/microsoft/TypeScript/issues/55713 this (as\n      // of TypeScript 5.5.2) actually narrows the type of value to\n      // never - but that still allows the following assignment to\n      // succeed.\n      if (typeof value === 'string') continue;\n      (this as unknown as Record<string, Order>)['ORDER_' + key] = value;\n    }\n\n    // List of illegal variable names.  This is not intended to be a\n    // security feature.  Blockly is 100% client-side, so bypassing\n    // this list is trivial.  This is intended to prevent users from\n    // accidentally clobbering a built-in object or function.\n    this.addReservedWords(\n      // import keyword\n      // print(','.join(sorted(keyword.kwlist)))\n      // https://docs.python.org/3/reference/lexical_analysis.html#keywords\n      // https://docs.python.org/2/reference/lexical_analysis.html#keywords\n      'False,None,True,and,as,assert,break,class,continue,def,del,elif,else,' +\n        'except,exec,finally,for,from,global,if,import,in,is,lambda,nonlocal,' +\n        'not,or,pass,print,raise,return,try,while,with,yield,' +\n        // https://docs.python.org/3/library/constants.html\n        // https://docs.python.org/2/library/constants.html\n        'NotImplemented,Ellipsis,__debug__,quit,exit,copyright,license,credits,' +\n        // >>> print(','.join(sorted(dir(__builtins__))))\n        // https://docs.python.org/3/library/functions.html\n        // https://docs.python.org/2/library/functions.html\n        'ArithmeticError,AssertionError,AttributeError,BaseException,' +\n        'BlockingIOError,BrokenPipeError,BufferError,BytesWarning,' +\n        'ChildProcessError,ConnectionAbortedError,ConnectionError,' +\n        'ConnectionRefusedError,ConnectionResetError,DeprecationWarning,' +\n        'EOFError,Ellipsis,EnvironmentError,Exception,FileExistsError,' +\n        'FileNotFoundError,FloatingPointError,FutureWarning,GeneratorExit,' +\n        'IOError,ImportError,ImportWarning,IndentationError,IndexError,' +\n        'InterruptedError,IsADirectoryError,KeyError,KeyboardInterrupt,' +\n        'LookupError,MemoryError,ModuleNotFoundError,NameError,' +\n        'NotADirectoryError,NotImplemented,NotImplementedError,OSError,' +\n        'OverflowError,PendingDeprecationWarning,PermissionError,' +\n        'ProcessLookupError,RecursionError,ReferenceError,ResourceWarning,' +\n        'RuntimeError,RuntimeWarning,StandardError,StopAsyncIteration,' +\n        'StopIteration,SyntaxError,SyntaxWarning,SystemError,SystemExit,' +\n        'TabError,TimeoutError,TypeError,UnboundLocalError,UnicodeDecodeError,' +\n        'UnicodeEncodeError,UnicodeError,UnicodeTranslateError,UnicodeWarning,' +\n        'UserWarning,ValueError,Warning,ZeroDivisionError,_,__build_class__,' +\n        '__debug__,__doc__,__import__,__loader__,__name__,__package__,__spec__,' +\n        'abs,all,any,apply,ascii,basestring,bin,bool,buffer,bytearray,bytes,' +\n        'callable,chr,classmethod,cmp,coerce,compile,complex,copyright,credits,' +\n        'delattr,dict,dir,divmod,enumerate,eval,exec,execfile,exit,file,filter,' +\n        'float,format,frozenset,getattr,globals,hasattr,hash,help,hex,id,input,' +\n        'int,intern,isinstance,issubclass,iter,len,license,list,locals,long,' +\n        'map,max,memoryview,min,next,object,oct,open,ord,pow,print,property,' +\n        'quit,range,raw_input,reduce,reload,repr,reversed,round,set,setattr,' +\n        'slice,sorted,staticmethod,str,sum,super,tuple,type,unichr,unicode,' +\n        'vars,xrange,zip',\n    );\n  }\n\n  /**\n   * Initialise the database of variable names.\n   *\n   * @param workspace Workspace to generate code from.\n   */\n  init(workspace: Workspace) {\n    super.init(workspace);\n\n    this.PASS = this.INDENT + 'pass\\n';\n\n    if (!this.nameDB_) {\n      this.nameDB_ = new Names(this.RESERVED_WORDS_);\n    } else {\n      this.nameDB_.reset();\n    }\n\n    this.nameDB_.setVariableMap(workspace.getVariableMap());\n    this.nameDB_.populateVariables(workspace);\n    this.nameDB_.populateProcedures(workspace);\n\n    const defvars = [];\n    // Add developer variables (not created or named by the user).\n    const devVarList = Variables.allDeveloperVariables(workspace);\n    for (let i = 0; i < devVarList.length; i++) {\n      defvars.push(\n        this.nameDB_.getName(devVarList[i], Names.DEVELOPER_VARIABLE_TYPE) +\n          ' = None',\n      );\n    }\n\n    // Add user variables, but only ones that are being used.\n    const variables = Variables.allUsedVarModels(workspace);\n    for (let i = 0; i < variables.length; i++) {\n      defvars.push(this.getVariableName(variables[i].getId()) + ' = None');\n    }\n\n    this.definitions_['variables'] = defvars.join('\\n');\n    this.isInitialized = true;\n  }\n\n  /**\n   * Prepend the generated code with import statements and variable definitions.\n   *\n   * @param code Generated code.\n   * @returns Completed code.\n   */\n  finish(code: string): string {\n    // Convert the definitions dictionary into a list.\n    const imports = [];\n    const definitions = [];\n    for (let name in this.definitions_) {\n      const def = this.definitions_[name];\n      if (def.match(/^(from\\s+\\S+\\s+)?import\\s+\\S+/)) {\n        imports.push(def);\n      } else {\n        definitions.push(def);\n      }\n    }\n    // Call Blockly.CodeGenerator's finish.\n    code = super.finish(code);\n    this.isInitialized = false;\n\n    this.nameDB_!.reset();\n    const allDefs = imports.join('\\n') + '\\n\\n' + definitions.join('\\n\\n');\n    return allDefs.replace(/\\n\\n+/g, '\\n\\n').replace(/\\n*$/, '\\n\\n\\n') + code;\n  }\n\n  /**\n   * Naked values are top-level blocks with outputs that aren't plugged into\n   * anything.\n   *\n   * @param line Line of generated code.\n   * @returns Legal line of code.\n   */\n  scrubNakedValue(line: string): string {\n    return line + '\\n';\n  }\n\n  /**\n   * Encode a string as a properly escaped Python string, complete with quotes.\n   *\n   * @param string Text to encode.\n   * @returns Python string.\n   */\n  quote_(string: string): string {\n    string = string.replace(/\\\\/g, '\\\\\\\\').replace(/\\n/g, '\\\\\\n');\n\n    // Follow the CPython behaviour of repr() for a non-byte string.\n    let quote = \"'\";\n    if (string.indexOf(\"'\") !== -1) {\n      if (string.indexOf('\"') === -1) {\n        quote = '\"';\n      } else {\n        string = string.replace(/'/g, \"\\\\'\");\n      }\n    }\n    return quote + string + quote;\n  }\n\n  /**\n   * Encode a string as a properly escaped multiline Python string, complete\n   * with quotes.\n   *\n   * @param string Text to encode.\n   * @returns Python string.\n   */\n  multiline_quote_(string: string): string {\n    const lines = string.split(/\\n/g).map(this.quote_);\n    // Join with the following, plus a newline:\n    // + '\\n' +\n    return lines.join(\" + '\\\\n' + \\n\");\n  }\n\n  /**\n   * Common tasks for generating Python from blocks.\n   * Handles comments for the specified block and any connected value blocks.\n   * Calls any statements following this block.\n   *\n   * @param block The current block.\n   * @param code The Python code created for this block.\n   * @param thisOnly True to generate code for only this statement.\n   * @returns Python code with comments and subsequent blocks added.\n\n   */\n  scrub_(block: Block, code: string, thisOnly = false): string {\n    let commentCode = '';\n    // Only collect comments for blocks that aren't inline.\n    if (!block.outputConnection || !block.outputConnection.targetConnection) {\n      // Collect comment for this block.\n      let comment = block.getCommentText();\n      if (comment) {\n        comment = stringUtils.wrap(comment, this.COMMENT_WRAP - 3);\n        commentCode += this.prefixLines(comment + '\\n', '# ');\n      }\n      // Collect comments for all value arguments.\n      // Don't collect comments for nested statements.\n      for (let i = 0; i < block.inputList.length; i++) {\n        if (block.inputList[i].type === inputTypes.VALUE) {\n          const childBlock = block.inputList[i].connection!.targetBlock();\n          if (childBlock) {\n            comment = this.allNestedComments(childBlock);\n            if (comment) {\n              commentCode += this.prefixLines(comment, '# ');\n            }\n          }\n        }\n      }\n    }\n    const nextBlock =\n      block.nextConnection && block.nextConnection.targetBlock();\n    const nextCode = thisOnly ? '' : this.blockToCode(nextBlock);\n    return commentCode + code + nextCode;\n  }\n\n  /**\n   * Gets a property and adjusts the value, taking into account indexing.\n   * If a static int, casts to an integer, otherwise returns a code string.\n   *\n   * @param block The block.\n   * @param atId The ID of the input block to get (and adjust) the value of.\n   * @param delta Value to add.\n   * @param negate Whether to negate the value.\n   * @returns The adjusted value or code that evaluates to it.\n   */\n  getAdjustedInt(\n    block: Block,\n    atId: string,\n    delta = 0,\n    negate = false,\n  ): string | number {\n    if (block.workspace.options.oneBasedIndex) {\n      delta--;\n    }\n    const defaultAtIndex = block.workspace.options.oneBasedIndex ? '1' : '0';\n    const atOrder = delta ? Order.ADDITIVE : Order.NONE;\n    let at: string | number =\n      this.valueToCode(block, atId, atOrder) || defaultAtIndex;\n\n    if (stringUtils.isNumber(at)) {\n      // If the index is a naked number, adjust it right now.\n      at = parseInt(at, 10) + delta;\n      if (negate) {\n        at = -at;\n      }\n    } else {\n      // If the index is dynamic, adjust it in code.\n      if (delta > 0) {\n        at = 'int(' + at + ' + ' + delta + ')';\n      } else if (delta < 0) {\n        at = 'int(' + at + ' - ' + -delta + ')';\n      } else {\n        at = 'int(' + at + ')';\n      }\n      if (negate) {\n        at = '-' + at;\n      }\n    }\n    return at;\n  }\n}\n", "/**\n * @license\n * Copyright 2018 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\n/**\n * @file Generating Python for dynamic variable blocks.\n */\n\n// Former goog.module ID: Blockly.Python.variablesDynamic\n\n// generator is dynamically typed.\nexport {\n  variables_get as variables_get_dynamic,\n  variables_set as variables_set_dynamic,\n} from './variables.js';\n", "/**\n * @license\n * Copyright 2021 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\n/**\n * @file Instantiate a PythonGenerator and populate it with the\n * complete set of block generator functions for Python.  This is the\n * entrypoint for python_compressed.js.\n */\n\n// Former goog.module ID: Blockly.Python.all\n\nimport {PythonGenerator} from './python/python_generator.js';\nimport * as colour from './python/colour.js';\nimport * as lists from './python/lists.js';\nimport * as logic from './python/logic.js';\nimport * as loops from './python/loops.js';\nimport * as math from './python/math.js';\nimport * as procedures from './python/procedures.js';\nimport * as text from './python/text.js';\nimport * as variables from './python/variables.js';\nimport * as variablesDynamic from './python/variables_dynamic.js';\n\nexport * from './python/python_generator.js';\n\n/**\n * Python code generator instance.\n * @type {!PythonGenerator}\n */\nexport const pythonGenerator = new PythonGenerator();\n\n// Add reserved words.  This list should include all words mentioned\n// in RESERVED WORDS: comments in the imports above.\npythonGenerator.addReservedWords('math,random,Number');\n\n// Install per-block-type generator functions:\n// Install per-block-type generator functions:\nconst generators: typeof pythonGenerator.forBlock = {\n  ...colour,\n  ...lists,\n  ...logic,\n  ...loops,\n  ...math,\n  ...procedures,\n  ...text,\n  ...variables,\n  ...variablesDynamic,\n};\nfor (const name in generators) {\n  pythonGenerator.forBlock[name] = generators[name];\n}\n", "/* eslint-disable */\n;(function(root, factory) {\n  if (typeof define === 'function' && define.amd) { // AMD\n    define(['./core', './python_compressed.js'], factory);\n  } else if (typeof exports === 'object') { // Node.js\n    module.exports = factory(require('./core'), require('./python_compressed.js'));\n  } else { // Browser\n    root.BlocklyPython = factory(root.Blockly, root.BlocklyPython);\n  }\n}(this, function(Blockly, BlocklyPython) {\n/**\n * @license\n * Copyright 2020 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\n/**\n * @fileoverview Python generator module; just a wrapper for\n *     python_compressed.js.\n */\n\nreturn BlocklyPython;\n}));\n"],
  "mappings": "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",
  "names": ["colour_picker", "block", "generator", "quote_", "getFieldValue", "code", "Order", "ATOMIC", "colour_random", "definitions_", "FUNCTION_CALL", "colour_rgb", "functionName", "provideFunction_", "FUNCTION_NAME_PLACEHOLDER_", "r", "valueToCode", "NONE", "g", "b", "colour_blend", "colour1", "colour2", "ratio", "lists_create_empty", "lists_create_with", "elements", "Array", "itemCount_", "i", "join", "lists_repeat", "item", "times", "MULTIPLICATIVE", "lists_length", "lists_isEmpty", "LOGICAL_NOT", "lists_indexOf", "list", "errorIndex", "firstIndexAdjustment", "lastIndexAdjustment", "workspace", "options", "oneBasedIndex", "lists_getIndex", "mode", "where", "MEMBER", "at", "getAdjustedInt", "Error", "lists_setIndex", "value", "match", "listVar", "nameDB_", "getDistinctName", "NameType", "VARIABLE", "xVar", "lists_getSublist", "where1", "where2", "at1", "at2", "isNumber", "String", "lists_sort", "type", "sortFunctionName", "reverse", "lists_split", "value_input", "value_delim", "lists_reverse", "controls_if", "n", "branchCode", "conditionCode", "STATEMENT_PREFIX", "injectId", "statementToCode", "PASS", "STATEMENT_SUFFIX", "prefixLines", "INDENT", "getInput", "logic_compare", "operator", "OPERATORS", "order", "RELATIONAL", "argument0", "argument1", "logic_operation", "LOGICAL_AND", "LOGICAL_OR", "defaultArgument", "logic_negate", "logic_boolean", "logic_null", "logic_ternary", "value_if", "CONDITIONAL", "value_then", "value_else", "controls_repeat_ext", "repeats", "getField", "parseInt", "branch", "addLoopTrap", "loopVar", "controls_whileUntil", "until", "controls_for", "variable0", "getVariableName", "increment", "defineUpRange", "defineDownRange", "Number", "Math", "abs", "range", "scrub", "arg", "suffix", "varName", "startVar", "endVar", "incVar", "controls_forEach", "controls_flow_statements", "xfix", "loop", "getSurroundLoop", "suppressPrefixSuffix", "math_number", "number", "Infinity", "UNARY_SIGN", "math_arithmetic", "tuple", "ADDITIVE", "EXPONENTIATION", "math_single", "math_constant", "CONSTANTS", "constant", "math_number_property", "PROPERTIES", "dropdownProperty", "inputOrder", "outputOrder", "numberToCheck", "divisor", "math_change", "math_on_list", "func", "math_modulo", "math_constrain", "argument2", "math_random_int", "math_random_float", "math_atan2", "procedures_defreturn", "globals", "usedVariables", "allUsedVarModels", "variable", "name", "getVars", "indexOf", "push", "devVarList", "allDeveloperVariables", "length", "getName", "DEVELOPER_VARIABLE", "funcName", "getProcedureName", "xfix1", "loopTrap", "INFINITE_LOOP_TRAP", "returnValue", "xfix2", "args", "variables", "globalString", "scrub_", "procedures_callreturn", "procedures_callnoreturn", "forBlock", "procedures_ifreturn", "hasReturnValue_", "text", "text_multiline", "multiline_quote_", "text_join", "element", "forceString", "codeAndOrder", "element0", "element1", "tempVar", "text_append", "text_length", "text_isEmpty", "text_indexOf", "substring", "text_charAt", "text_getSubstring", "text_changeCase", "text_trim", "text_print", "text_prompt_ext", "msg", "text_count", "sub", "text_replace", "from", "to", "text_reverse", "variables_get", "variables_set", "COLLECTION", "STRING_CONVERSION", "BITWISE_NOT", "BITWISE_SHIFT", "BITWISE_AND", "BITWISE_XOR", "BITWISE_OR", "LAMBDA", "PythonGenerator", "CodeGenerator", "constructor", "ORDER_OVERRIDES", "isInitialized", "key", "addReservedWords", "init", "reset", "Names", "RESERVED_WORDS_", "setVariableMap", "getVariableMap", "populateVariables", "populateProcedures", "defvars", "DEVELOPER_VARIABLE_TYPE", "getId", "finish", "imports", "definitions", "def", "replace", "scrubNakedValue", "line", "string", "quote", "split", "map", "lines", "thisOnly", "commentCode", "outputConnection", "targetConnection", "comment", "getCommentText", "wrap", "COMMENT_WRAP", "inputList", "inputTypes", "VALUE", "childBlock", "connection", "targetBlock", "allNestedComments", "nextBlock", "nextConnection", "nextCode", "blockToCode", "atId", "delta", "negate", "defaultAtIndex", "$jscomp$tmp$exports$module$name", "controls_ifelse", "controls_repeat", "math_round", "math_trig", "procedures_defnoreturn", "strRegExp", "test", "text_prompt", "pythonGenerator", "generators", "colour", "lists", "logic", "loops", "math", "procedures", "variablesDynamic"]
}
